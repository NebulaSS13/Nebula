<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    
    <link rel="stylesheet" href="dmdoc.css" />
    <title>&#x2F;client - Space Station 13 - Nebula13</title>
</head>
<body>
<header>
    <a href="index.html">Space Station 13 - Nebula13</a> -
    <a href="index.html#modules">Modules</a> -
    <a href="index.html#types">Types</a>
 &mdash; <a href="client.html#var">Var Details</a> - <a href="client.html#proc">Proc Details</a></header>
<main>
<h1>client <aside>/<a href="client.html">client</a></aside><aside> inherits /<a href="datum.html">datum</a></aside>
        
    
            <a href="https://github.com/NebulaSS13/Nebula/blob/e1489595c24956c4879bb98c274adcd1097047f3/code/client_macros.dm#L1">
        <img src="git.png" width="16" height="16" title="code&#x2F;client_macros.dm 1"/></a></h1>

<table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr>
            <tr><th><a href="client.html#var/key_combos_held">key_combos_held</a></th><td>A buffer for combinations such of modifiers + keys (ex: CtrlD, AltE, ShiftT). Format: <code>&quot;key&quot;</code> -&gt; <code>&quot;combo&quot;</code> (ex: <code>&quot;D&quot;</code> -&gt; <code>&quot;CtrlD&quot;</code>)</td></tr>
            <tr><th><a href="client.html#var/keys_held">keys_held</a></th><td>A buffer of currently held keys.</td></tr>
            <tr><th><a href="client.html#var/last_move_dir_pressed">last_move_dir_pressed</a></th><td>Movement dir of the most recently pressed movement key. Used in cardinal-only movement mode.</td></tr>
            <tr><th><a href="client.html#var/movement_keys">movement_keys</a></th><td>Custom movement keys for this client</td></tr>
            <tr><th><a href="client.html#var/movement_locked">movement_locked</a></th><td>Are we locking our movement input?</td></tr>
            <tr><th><a href="client.html#var/next_move_dir_add">next_move_dir_add</a></th><td>On next move, add this dir to the move that would otherwise be done</td></tr>
            <tr><th><a href="client.html#var/next_move_dir_sub">next_move_dir_sub</a></th><td>On next move, subtract this dir from the move that would otherwise be done</td></tr>
            <tr><th><a href="client.html#var/tooltips">tooltips</a></th><td>datum that controls the displaying and hiding of tooltips</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr>
            <tr><th><a href="client.html#proc/callproc">callproc</a></th><td>VERBS</td></tr>
            <tr><th><a href="client.html#proc/keyUp">keyUp</a></th><td>Check if the key is short enough to even be a real key</td></tr>
            <tr><th><a href="client.html#proc/nanoclose">nanoclose</a></th><td>Called when a Nano UI window is closed
This is how Nano handles closed windows
It must be a verb so that it can be called using winset</td></tr>
            <tr><th><a href="client.html#proc/reset_held_keys">reset_held_keys</a></th><td>Manually clears any held keys, in case due to lag or other undefined behavior a key gets stuck.</td></tr>
            <tr><th><a href="client.html#proc/resetnano">resetnano</a></th><td>A &quot;panic button&quot; verb to close all UIs on current mob.
Use it when the bug with UI not opening (because the server still considers it open despite it being closed on client) pops up.
Feel free to remove it once the bug is confirmed to be fixed.</td></tr>
            <tr><th><a href="client.html#proc/update_special_keybinds">update_special_keybinds</a></th><td>Updates the keybinds for special keys</td></tr>
            <tr><th><a href="client.html#proc/windowclose">windowclose</a></th><td>the on-close client verb</td></tr></table>
    <h2 id="var">Var Details</h2><h3 id="var/key_combos_held"><aside class="declaration">var </aside>key_combos_held
            <aside>&ndash; /list</aside>
        
    
            <a href="https://github.com/NebulaSS13/Nebula/blob/e1489595c24956c4879bb98c274adcd1097047f3/code/modules/client/client_defines.dm#L64">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;client&#x2F;client_defines.dm 64"/></a></h3>
        <p>A buffer for combinations such of modifiers + keys (ex: CtrlD, AltE, ShiftT). Format: <code>&quot;key&quot;</code> -&gt; <code>&quot;combo&quot;</code> (ex: <code>&quot;D&quot;</code> -&gt; <code>&quot;CtrlD&quot;</code>)</p><h3 id="var/keys_held"><aside class="declaration">var </aside>keys_held
            <aside>&ndash; /list</aside>
        
    
            <a href="https://github.com/NebulaSS13/Nebula/blob/e1489595c24956c4879bb98c274adcd1097047f3/code/modules/client/client_defines.dm#L62">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;client&#x2F;client_defines.dm 62"/></a></h3>
        <p>A buffer of currently held keys.</p><h3 id="var/last_move_dir_pressed"><aside class="declaration">var </aside>last_move_dir_pressed
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/NebulaSS13/Nebula/blob/e1489595c24956c4879bb98c274adcd1097047f3/code/modules/client/client_helpers.dm#L1">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;client&#x2F;client_helpers.dm 1"/></a></h3>
        <p>Movement dir of the most recently pressed movement key. Used in cardinal-only movement mode.</p><h3 id="var/movement_keys"><aside class="declaration">var </aside>movement_keys
            <aside>&ndash; /list</aside>
        
    
            <a href="https://github.com/NebulaSS13/Nebula/blob/e1489595c24956c4879bb98c274adcd1097047f3/code/modules/client/client_defines.dm#L57">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;client&#x2F;client_defines.dm 57"/></a></h3>
        <p>Custom movement keys for this client</p><h3 id="var/movement_locked"><aside class="declaration">var </aside>movement_locked
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/NebulaSS13/Nebula/blob/e1489595c24956c4879bb98c274adcd1097047f3/code/modules/client/client_defines.dm#L59">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;client&#x2F;client_defines.dm 59"/></a></h3>
        <p>Are we locking our movement input?</p><h3 id="var/next_move_dir_add"><aside class="declaration">var </aside>next_move_dir_add
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/NebulaSS13/Nebula/blob/e1489595c24956c4879bb98c274adcd1097047f3/code/modules/client/client_defines.dm#L70">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;client&#x2F;client_defines.dm 70"/></a></h3>
        <p>On next move, add this dir to the move that would otherwise be done</p><h3 id="var/next_move_dir_sub"><aside class="declaration">var </aside>next_move_dir_sub
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/NebulaSS13/Nebula/blob/e1489595c24956c4879bb98c274adcd1097047f3/code/modules/client/client_defines.dm#L72">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;client&#x2F;client_defines.dm 72"/></a></h3>
        <p>On next move, subtract this dir from the move that would otherwise be done</p><h3 id="var/tooltips"><aside class="declaration">var </aside>tooltips
            <aside>&ndash; /<a href="datum.html">datum</a>/tooltip</aside>
        
    
            <a href="https://github.com/NebulaSS13/Nebula/blob/e1489595c24956c4879bb98c274adcd1097047f3/code/modules/client/client_defines.dm#L19">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;client&#x2F;client_defines.dm 19"/></a></h3>
        <p>datum that controls the displaying and hiding of tooltips</p><h2 id="proc">Proc Details</h2><h3 id="proc/callproc"><aside class="declaration">proc </aside>callproc<aside>() 
        
    
            <a href="https://github.com/NebulaSS13/Nebula/blob/e1489595c24956c4879bb98c274adcd1097047f3/code/modules/admin/callproc/callproc.dm#L4">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;admin&#x2F;callproc&#x2F;callproc.dm 4"/></a></aside>
        </h3>
        <p>VERBS</p><h3 id="proc/keyUp"><aside class="declaration">verb </aside>keyUp<aside>(_key) 
        
    
            <a href="https://github.com/NebulaSS13/Nebula/blob/e1489595c24956c4879bb98c274adcd1097047f3/code/modules/keybindings/bindings_client.dm#L71">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;keybindings&#x2F;bindings_client.dm 71"/></a></aside>
        </h3>
        <p>Check if the key is short enough to even be a real key</p><h3 id="proc/nanoclose"><aside class="declaration">verb </aside>nanoclose<aside>(uiref) 
        
    
            <a href="https://github.com/NebulaSS13/Nebula/blob/e1489595c24956c4879bb98c274adcd1097047f3/code/modules/nano/nanoexternal.dm#L25">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;nano&#x2F;nanoexternal.dm 25"/></a></aside>
        </h3>
        <p>Called when a Nano UI window is closed
This is how Nano handles closed windows
It must be a verb so that it can be called using winset</p>
<p>@return nothing</p><h3 id="proc/reset_held_keys"><aside class="declaration">verb </aside>reset_held_keys<aside>() 
        
    
            <a href="https://github.com/NebulaSS13/Nebula/blob/e1489595c24956c4879bb98c274adcd1097047f3/code/modules/keybindings/setup.dm#L60">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;keybindings&#x2F;setup.dm 60"/></a></aside>
        </h3>
        <p>Manually clears any held keys, in case due to lag or other undefined behavior a key gets stuck.</p>
<p>Hardcoded to the ESC key.</p><h3 id="proc/resetnano"><aside class="declaration">verb </aside>resetnano<aside>() 
        
    
            <a href="https://github.com/NebulaSS13/Nebula/blob/e1489595c24956c4879bb98c274adcd1097047f3/code/modules/nano/nanoexternal.dm#L10">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;nano&#x2F;nanoexternal.dm 10"/></a></aside>
        </h3>
        <p>A &quot;panic button&quot; verb to close all UIs on current mob.
Use it when the bug with UI not opening (because the server still considers it open despite it being closed on client) pops up.
Feel free to remove it once the bug is confirmed to be fixed.</p>
<p>@return nothing</p><h3 id="proc/update_special_keybinds"><aside class="declaration">proc </aside>update_special_keybinds<aside>(/<a href="datum.html">datum</a>/<a href="datum/preferences.html">preferences</a>/direct_prefs) 
        
    
            <a href="https://github.com/NebulaSS13/Nebula/blob/e1489595c24956c4879bb98c274adcd1097047f3/code/modules/client/client_procs.dm#L637">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;client&#x2F;client_procs.dm 637"/></a></aside>
        </h3>
        <p>Updates the keybinds for special keys</p>
<p>Handles adding macros for the keys that need it
And adding movement keys to the clients movement_keys list
At the time of writing this, communication(OOC, LOOC, Say, Me) require macros
Arguments:</p>
<ul>
<li>direct_prefs - the preference we're going to get keybinds from</li>
</ul><h3 id="proc/windowclose"><aside class="declaration">verb </aside>windowclose<aside>(atomref) 
        
    
            <a href="https://github.com/NebulaSS13/Nebula/blob/e1489595c24956c4879bb98c274adcd1097047f3/code/datums/browser.dm#L170">
        <img src="git.png" width="16" height="16" title="code&#x2F;datums&#x2F;browser.dm 170"/></a></aside>
        </h3>
        <p>the on-close client verb</p>
<p>called when a browser popup window is closed after registering with proc/onclose()
if a valid atom reference is supplied, call the atom's Topic() with &quot;close=1&quot;
otherwise, just reset the client mob's machine var.</p></main>
<footer>
    nebula.dme
    <a href="https://github.com/NebulaSS13/Nebula/tree/e1489595c24956c4879bb98c274adcd1097047f3">e148959</a>
        (dev) &mdash; <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/src/dmdoc/README.md">dmdoc 1.4.1</a></footer>
</body>
</html>
