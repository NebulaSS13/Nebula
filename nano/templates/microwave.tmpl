<div>
{{if data.on}}
	{{if helper.byondTimeOfDay() > (data.start_time + data.cook_time/2)}}
		{{if jQuery.isEmptyObject(data.cookingobjs) && jQuery.isEmptyObject(data.cookingreas)}}
			<p>There's nothing inside. Microwave's working, though!</p>
		{{else data.failed}}
			<p>Something doesn't look right...</p>
		{{else}}
			<p>It's cooking nicely!</p>
		{{/if}}
	{{else}}
		<p>It's starting to cook...</p>
	{{/if}}
	<p>{{:helper.displayBar(helper.byondTimeOfDay(), data.start_time, data.start_time + data.cook_time, 'good', null, null, null, "Cook")}}</p>
	{{window.cook_time = data.cook_time;}}
	{{window.start_time = data.start_time;}}
	{{window.curr_time = helper.byondTimeOfDay();}}
	<script>jQuery('#displayBarCookFill').animate({width:"100%"}, (window.cook_time - (window.curr_time - window.start_time))*100, "linear");</script>
	<p>{{:helper.link("Abort", 'cancel', {'abort': 1}, null, 'redButton')}}</p>
{{else}}
	<h4>Ingredients</h4>
	<ul>
		{{if jQuery.isEmptyObject(data.cookingobjs) && jQuery.isEmptyObject(data.cookingreas)}}
			<li>The microwave is empty!</li>
		{{/if}}
		{{props data.cookingobjs :amt:name}}
			<li>{{:helper.link(name + ' • ' + amt, null, {'ejecti': name}, null, 'linkOn')}}</li>
		{{/props}}
		{{props data.cookingreas :amt:name}}
			<li>{{:helper.link(name + ' • ' + amt + ' units', null, {'ejectr': name}, null, 'linkOn')}}</li>
		{{/props}}
	</ul>
	<br>
	<p>{{:helper.link("Eject All", 'trash', {'eject_all': 1}, null, 'redButton')}}</p>
	<p>{{:helper.link("Cook", null, {'cook': 1}, null, 'linkOn')}}</p>
{{/if}}
</div>