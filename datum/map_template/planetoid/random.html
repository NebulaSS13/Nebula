<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <base href="../../../" />
    <link rel="stylesheet" href="dmdoc.css" />
    <title>&#x2F;datum&#x2F;map_template&#x2F;planetoid&#x2F;random - Space Station 13 - Nebula13</title>
</head>
<body>
<header>
    <a href="index.html">Space Station 13 - Nebula13</a> -
    <a href="index.html#modules">Modules</a> -
    <a href="index.html#types">Types</a>
 &mdash; <a href="datum/map_template/planetoid/random.html#var">Var Details</a> - <a href="datum/map_template/planetoid/random.html#proc">Proc Details</a></header>
<main>
<h1>random <aside>/<a href="datum.html">datum</a>/<a href="datum/map_template.html">map_template</a>/<a href="datum/map_template/planetoid.html">planetoid</a>/<a href="datum/map_template/planetoid/random.html">random</a></aside>
        
    
            <a href="https://github.com/NebulaSS13/Nebula/blob/5c047ec0d0090f7b450b6472efd6ea94db00f923/code/modules/maps/template_types/random_exoplanet/random_planet.dm#L7">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;maps&#x2F;template_types&#x2F;random_exoplanet&#x2F;random_planet.dm 7"/></a></h1>

<p>A randomly generated &quot;tempate&quot; for an planet-like objects. Meant to standardize how random planets are generated so it behave like all other map templates.</p><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr>
            <tr><th><a href="datum/map_template/planetoid/random.html#var/adjacent_levels_east">adjacent_levels_east</a></th><td>Amount of adjacent stacked z-levels to generate east of the root z-level stack. Tallness is same as root.</td></tr>
            <tr><th><a href="datum/map_template/planetoid/random.html#var/adjacent_levels_north">adjacent_levels_north</a></th><td>Amount of adjacent stacked z-levels to generate north of the root z-level stack.
Setting this to 1 for instance will generate a stack of zlevels connecting to the north of all z-levels below the root level. Tallness is same as root.</td></tr>
            <tr><th><a href="datum/map_template/planetoid/random.html#var/adjacent_levels_south">adjacent_levels_south</a></th><td>Amount of adjacent stacked z-levels to generate south of the root z-level stack. Tallness is same as root.</td></tr>
            <tr><th><a href="datum/map_template/planetoid/random.html#var/adjacent_levels_west">adjacent_levels_west</a></th><td>Amount of adjacent stacked z-levels to generate west of the root z-level stack. Tallness is same as root.</td></tr>
            <tr><th><a href="datum/map_template/planetoid/random.html#var/amount_shuttle_landing_points">amount_shuttle_landing_points</a></th><td>Amount of shuttle landing points to generate on the surface level of the planet. If null, none will be generated.</td></tr>
            <tr><th><a href="datum/map_template/planetoid/random.html#var/max_shuttle_radius">max_shuttle_radius</a></th><td>The maximum shuttle &quot;radius&quot; for the shuttle landing points that will be generated.</td></tr>
            <tr><th><a href="datum/map_template/planetoid/random.html#var/max_themes">max_themes</a></th><td>Maximum amount of themes that can be picked for the same planet.</td></tr>
            <tr><th><a href="datum/map_template/planetoid/random.html#var/overmap_marker_type">overmap_marker_type</a></th><td>The type of overmap marker object to use for this planet</td></tr>
            <tr><th><a href="datum/map_template/planetoid/random.html#var/possible_themes">possible_themes</a></th><td>List of theme types that can be picked by this planet when generating.</td></tr>
            <tr><th><a href="datum/map_template/planetoid/random.html#var/prefered_level_data_per_z">prefered_level_data_per_z</a></th><td>A list of the same length as there are zlevels on this map(index is z level count in order).
Each entry is a level_data type, or null. If defined, will override the level_data_type var for the specified z-level.</td></tr>
            <tr><th><a href="datum/map_template/planetoid/random.html#var/subtemplate_budget">subtemplate_budget</a></th><td>Maximume amount of subtemplates/ruins/sites that may be picked and spawned on the planet.</td></tr>
            <tr><th><a href="datum/map_template/planetoid/random.html#var/surface_level_index">surface_level_index</a></th><td>The index of the generated level that will be considered the planet's surface for this generated planet counting from top to bottom.
The surface here implies the first &quot;solid ground&quot; z-level from the top.</td></tr>
            <tr><th><a href="datum/map_template/planetoid/random.html#var/template_category">template_category</a></th><td>Ruin sites map template category to use for creating ruins on this planet.</td></tr>
            <tr><th><a href="datum/map_template/planetoid/random.html#var/template_tags_blacklist">template_tags_blacklist</a></th><td>Bit flag of the ruin tags that may never be picked for this planet.</td></tr>
            <tr><th><a href="datum/map_template/planetoid/random.html#var/template_tags_whitelist">template_tags_whitelist</a></th><td>Bit flag of the only ruin tags that may be picked by this planet.</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr>
            <tr><th><a href="datum/map_template/planetoid/random.html#proc/before_planet_gen">before_planet_gen</a></th><td>Add all the level_data from the levels we loaded, so we can sync the levels
Create all needed z-levels, tell each of them to generate themselves</td></tr>
            <tr><th><a href="datum/map_template/planetoid/random.html#proc/build_adjacent_z_stacks">build_adjacent_z_stacks</a></th><td>Build a stack that's adjacent to the specified stack.</td></tr>
            <tr><th><a href="datum/map_template/planetoid/random.html#proc/build_z_stack">build_z_stack</a></th><td>Create a new z-level stack that's connected to an existing z stack, on the given direction.</td></tr>
            <tr><th><a href="datum/map_template/planetoid/random.html#proc/generate_features">generate_features</a></th><td>Picks all ruins and tries to spawn them on the levels that make up the planet.</td></tr>
            <tr><th><a href="datum/map_template/planetoid/random.html#proc/generate_landing">generate_landing</a></th><td>Tries to place landing areas for shuttles on the surface level of the planet. Run after generation is complete to avoid bad surprises!</td></tr>
            <tr><th><a href="datum/map_template/planetoid/random.html#proc/generate_levels">generate_levels</a></th><td>Create individual levels linked to this planet. Must be called after basic planet stuff has been generated(atmosphere, habitability, etc..)</td></tr>
            <tr><th><a href="datum/map_template/planetoid/random.html#proc/generate_weather">generate_weather</a></th><td>Make sure all levels of this planet have the weather system setup.</td></tr>
            <tr><th><a href="datum/map_template/planetoid/random.html#proc/setup_planet_overmap">setup_planet_overmap</a></th><td>Call after map is fully generated. Setup the overmap obj to match the planet we just generated.</td></tr></table>
    <h2 id="var">Var Details</h2><h3 id="var/adjacent_levels_east"><aside class="declaration">var </aside>adjacent_levels_east
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/NebulaSS13/Nebula/blob/5c047ec0d0090f7b450b6472efd6ea94db00f923/code/modules/maps/template_types/random_exoplanet/random_planet.dm#L21">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;maps&#x2F;template_types&#x2F;random_exoplanet&#x2F;random_planet.dm 21"/></a></h3>
        <p>Amount of adjacent stacked z-levels to generate east of the root z-level stack. Tallness is same as root.</p><h3 id="var/adjacent_levels_north"><aside class="declaration">var </aside>adjacent_levels_north
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/NebulaSS13/Nebula/blob/5c047ec0d0090f7b450b6472efd6ea94db00f923/code/modules/maps/template_types/random_exoplanet/random_planet.dm#L17">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;maps&#x2F;template_types&#x2F;random_exoplanet&#x2F;random_planet.dm 17"/></a></h3>
        <p>Amount of adjacent stacked z-levels to generate north of the root z-level stack.
Setting this to 1 for instance will generate a stack of zlevels connecting to the north of all z-levels below the root level. Tallness is same as root.</p><h3 id="var/adjacent_levels_south"><aside class="declaration">var </aside>adjacent_levels_south
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/NebulaSS13/Nebula/blob/5c047ec0d0090f7b450b6472efd6ea94db00f923/code/modules/maps/template_types/random_exoplanet/random_planet.dm#L19">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;maps&#x2F;template_types&#x2F;random_exoplanet&#x2F;random_planet.dm 19"/></a></h3>
        <p>Amount of adjacent stacked z-levels to generate south of the root z-level stack. Tallness is same as root.</p><h3 id="var/adjacent_levels_west"><aside class="declaration">var </aside>adjacent_levels_west
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/NebulaSS13/Nebula/blob/5c047ec0d0090f7b450b6472efd6ea94db00f923/code/modules/maps/template_types/random_exoplanet/random_planet.dm#L23">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;maps&#x2F;template_types&#x2F;random_exoplanet&#x2F;random_planet.dm 23"/></a></h3>
        <p>Amount of adjacent stacked z-levels to generate west of the root z-level stack. Tallness is same as root.</p><h3 id="var/amount_shuttle_landing_points"><aside class="declaration">var </aside>amount_shuttle_landing_points
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/NebulaSS13/Nebula/blob/5c047ec0d0090f7b450b6472efd6ea94db00f923/code/modules/maps/template_types/random_exoplanet/random_planet.dm#L36">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;maps&#x2F;template_types&#x2F;random_exoplanet&#x2F;random_planet.dm 36"/></a></h3>
        <p>Amount of shuttle landing points to generate on the surface level of the planet. If null, none will be generated.</p><h3 id="var/max_shuttle_radius"><aside class="declaration">var </aside>max_shuttle_radius
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/NebulaSS13/Nebula/blob/5c047ec0d0090f7b450b6472efd6ea94db00f923/code/modules/maps/template_types/random_exoplanet/random_planet.dm#L38">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;maps&#x2F;template_types&#x2F;random_exoplanet&#x2F;random_planet.dm 38"/></a></h3>
        <p>The maximum shuttle &quot;radius&quot; for the shuttle landing points that will be generated.</p><h3 id="var/max_themes"><aside class="declaration">var </aside>max_themes
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/NebulaSS13/Nebula/blob/5c047ec0d0090f7b450b6472efd6ea94db00f923/code/modules/maps/template_types/random_exoplanet/random_planet.dm#L42">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;maps&#x2F;template_types&#x2F;random_exoplanet&#x2F;random_planet.dm 42"/></a></h3>
        <p>Maximum amount of themes that can be picked for the same planet.</p><h3 id="var/overmap_marker_type"><aside class="declaration">var </aside>overmap_marker_type
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/NebulaSS13/Nebula/blob/5c047ec0d0090f7b450b6472efd6ea94db00f923/code/modules/maps/template_types/random_exoplanet/random_planet.dm#L30">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;maps&#x2F;template_types&#x2F;random_exoplanet&#x2F;random_planet.dm 30"/></a></h3>
        <p>The type of overmap marker object to use for this planet</p><h3 id="var/possible_themes"><aside class="declaration">var </aside>possible_themes
            <aside>&ndash; /list</aside>
        
    
            <a href="https://github.com/NebulaSS13/Nebula/blob/5c047ec0d0090f7b450b6472efd6ea94db00f923/code/modules/maps/template_types/random_exoplanet/random_planet.dm#L44">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;maps&#x2F;template_types&#x2F;random_exoplanet&#x2F;random_planet.dm 44"/></a></h3>
        <p>List of theme types that can be picked by this planet when generating.</p><h3 id="var/prefered_level_data_per_z"><aside class="declaration">var </aside>prefered_level_data_per_z
            <aside>&ndash; /list</aside>
        
    
            <a href="https://github.com/NebulaSS13/Nebula/blob/5c047ec0d0090f7b450b6472efd6ea94db00f923/code/modules/maps/template_types/random_exoplanet/random_planet.dm#L27">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;maps&#x2F;template_types&#x2F;random_exoplanet&#x2F;random_planet.dm 27"/></a></h3>
        <p>A list of the same length as there are zlevels on this map(index is z level count in order).
Each entry is a level_data type, or null. If defined, will override the level_data_type var for the specified z-level.</p><h3 id="var/subtemplate_budget"><aside class="declaration">var </aside>subtemplate_budget
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/NebulaSS13/Nebula/blob/5c047ec0d0090f7b450b6472efd6ea94db00f923/code/modules/maps/template_types/random_exoplanet/random_planet.dm#L50">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;maps&#x2F;template_types&#x2F;random_exoplanet&#x2F;random_planet.dm 50"/></a></h3>
        <p>Maximume amount of subtemplates/ruins/sites that may be picked and spawned on the planet.</p><h3 id="var/surface_level_index"><aside class="declaration">var </aside>surface_level_index
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/NebulaSS13/Nebula/blob/5c047ec0d0090f7b450b6472efd6ea94db00f923/code/modules/maps/template_types/random_exoplanet/random_planet.dm#L33">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;maps&#x2F;template_types&#x2F;random_exoplanet&#x2F;random_planet.dm 33"/></a></h3>
        <p>The index of the generated level that will be considered the planet's surface for this generated planet counting from top to bottom.
The surface here implies the first &quot;solid ground&quot; z-level from the top.</p><h3 id="var/template_category"><aside class="declaration">var </aside>template_category
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/NebulaSS13/Nebula/blob/5c047ec0d0090f7b450b6472efd6ea94db00f923/code/modules/maps/template_types/random_exoplanet/random_planet.dm#L52">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;maps&#x2F;template_types&#x2F;random_exoplanet&#x2F;random_planet.dm 52"/></a></h3>
        <p>Ruin sites map template category to use for creating ruins on this planet.</p><h3 id="var/template_tags_blacklist"><aside class="declaration">var </aside>template_tags_blacklist
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/NebulaSS13/Nebula/blob/5c047ec0d0090f7b450b6472efd6ea94db00f923/code/modules/maps/template_types/random_exoplanet/random_planet.dm#L48">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;maps&#x2F;template_types&#x2F;random_exoplanet&#x2F;random_planet.dm 48"/></a></h3>
        <p>Bit flag of the ruin tags that may never be picked for this planet.</p><h3 id="var/template_tags_whitelist"><aside class="declaration">var </aside>template_tags_whitelist
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/NebulaSS13/Nebula/blob/5c047ec0d0090f7b450b6472efd6ea94db00f923/code/modules/maps/template_types/random_exoplanet/random_planet.dm#L46">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;maps&#x2F;template_types&#x2F;random_exoplanet&#x2F;random_planet.dm 46"/></a></h3>
        <p>Bit flag of the only ruin tags that may be picked by this planet.</p><h2 id="proc">Proc Details</h2><h3 id="proc/before_planet_gen"><aside class="declaration">proc </aside>before_planet_gen<aside>(/<a href="datum.html">datum</a>/<a href="datum/planetoid_data.html">planetoid_data</a>/gen_data) 
        
    
            <a href="https://github.com/NebulaSS13/Nebula/blob/5c047ec0d0090f7b450b6472efd6ea94db00f923/code/modules/maps/template_types/random_exoplanet/random_planet.dm#L213">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;maps&#x2F;template_types&#x2F;random_exoplanet&#x2F;random_planet.dm 213"/></a></aside>
        </h3>
        <p>Add all the level_data from the levels we loaded, so we can sync the levels
Create all needed z-levels, tell each of them to generate themselves</p><h3 id="proc/build_adjacent_z_stacks"><aside class="declaration">proc </aside>build_adjacent_z_stacks<aside>(amount, direction_from_root, /list/adjacent_level_data, /list/new_level_data_types, /<a href="datum.html">datum</a>/<a href="datum/planetoid_data.html">planetoid_data</a>/gen_data) 
        
    
            <a href="https://github.com/NebulaSS13/Nebula/blob/5c047ec0d0090f7b450b6472efd6ea94db00f923/code/modules/maps/template_types/random_exoplanet/random_planet.dm#L104">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;maps&#x2F;template_types&#x2F;random_exoplanet&#x2F;random_planet.dm 104"/></a></aside>
        </h3>
        <p>Build a stack that's adjacent to the specified stack.</p><h3 id="proc/build_z_stack"><aside class="declaration">proc </aside>build_z_stack<aside>(direction_from_root, /list/adjacent_level_data, /list/new_level_data_types, /<a href="datum.html">datum</a>/<a href="datum/planetoid_data.html">planetoid_data</a>/gen_data) 
        
    
            <a href="https://github.com/NebulaSS13/Nebula/blob/5c047ec0d0090f7b450b6472efd6ea94db00f923/code/modules/maps/template_types/random_exoplanet/random_planet.dm#L116">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;maps&#x2F;template_types&#x2F;random_exoplanet&#x2F;random_planet.dm 116"/></a></aside>
        </h3>
        <p>Create a new z-level stack that's connected to an existing z stack, on the given direction.</p><h3 id="proc/generate_features"><aside class="declaration">proc </aside>generate_features<aside>(/<a href="datum.html">datum</a>/<a href="datum/planetoid_data.html">planetoid_data</a>/gen_data, /list/created_level_data, whitelist, blacklist) 
        
    
            <a href="https://github.com/NebulaSS13/Nebula/blob/5c047ec0d0090f7b450b6472efd6ea94db00f923/code/modules/maps/template_types/random_exoplanet/random_planet_subtemplates.dm#L2">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;maps&#x2F;template_types&#x2F;random_exoplanet&#x2F;random_planet_subtemplates.dm 2"/></a></aside>
        </h3>
        <p>Picks all ruins and tries to spawn them on the levels that make up the planet.</p><h3 id="proc/generate_landing"><aside class="declaration">proc </aside>generate_landing<aside>(/<a href="datum.html">datum</a>/<a href="datum/planetoid_data.html">planetoid_data</a>/gen_data, /<a href="datum.html">datum</a>/<a href="datum/level_data.html">level_data</a>/surface_level) 
        
    
            <a href="https://github.com/NebulaSS13/Nebula/blob/5c047ec0d0090f7b450b6472efd6ea94db00f923/code/modules/maps/template_types/random_exoplanet/random_planet.dm#L245">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;maps&#x2F;template_types&#x2F;random_exoplanet&#x2F;random_planet.dm 245"/></a></aside>
        </h3>
        <p>Tries to place landing areas for shuttles on the surface level of the planet. Run after generation is complete to avoid bad surprises!</p><h3 id="proc/generate_levels"><aside class="declaration">proc </aside>generate_levels<aside>(/<a href="datum.html">datum</a>/<a href="datum/planetoid_data.html">planetoid_data</a>/gen_data, /list/theme_generators) 
        
    
            <a href="https://github.com/NebulaSS13/Nebula/blob/5c047ec0d0090f7b450b6472efd6ea94db00f923/code/modules/maps/template_types/random_exoplanet/random_planet.dm#L64">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;maps&#x2F;template_types&#x2F;random_exoplanet&#x2F;random_planet.dm 64"/></a></aside>
        </h3>
        <p>Create individual levels linked to this planet. Must be called after basic planet stuff has been generated(atmosphere, habitability, etc..)</p><h3 id="proc/generate_weather"><aside class="declaration">proc </aside>generate_weather<aside>(/<a href="datum.html">datum</a>/<a href="datum/planetoid_data.html">planetoid_data</a>/gen_data, /<a href="datum.html">datum</a>/<a href="datum/level_data.html">level_data</a>/topmost_level_data) 
        
    
            <a href="https://github.com/NebulaSS13/Nebula/blob/5c047ec0d0090f7b450b6472efd6ea94db00f923/code/modules/maps/template_types/random_exoplanet/random_planet.dm#L239">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;maps&#x2F;template_types&#x2F;random_exoplanet&#x2F;random_planet.dm 239"/></a></aside>
        </h3>
        <p>Make sure all levels of this planet have the weather system setup.</p><h3 id="proc/setup_planet_overmap"><aside class="parent"><a title="/datum/map_template/planetoid" href="datum/map_template/planetoid.html#proc/setup_planet_overmap">&uarr;</a></aside>setup_planet_overmap<aside>(/<a href="datum.html">datum</a>/<a href="datum/planetoid_data.html">planetoid_data</a>/gen_data, /<a href="datum.html">datum</a>/<a href="datum/level_data.html">level_data</a>/topmost_level_data) 
        
    
            <a href="https://github.com/NebulaSS13/Nebula/blob/5c047ec0d0090f7b450b6472efd6ea94db00f923/code/modules/maps/template_types/random_exoplanet/random_planet.dm#L229">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;maps&#x2F;template_types&#x2F;random_exoplanet&#x2F;random_planet.dm 229"/></a></aside>
        </h3>
        <p>Call after map is fully generated. Setup the overmap obj to match the planet we just generated.</p></main>
<footer>
    nebula.dme
    <a href="https://github.com/NebulaSS13/Nebula/tree/5c047ec0d0090f7b450b6472efd6ea94db00f923">5c047ec</a>
        (dev) &mdash; <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/src/dmdoc/README.md">dmdoc 1.4.1</a></footer>
</body>
</html>
